@page
@model WebApp.Pages.Institucion.GridModel
@{
}

<main>
    <section class="py-2 text-center container">
        <div class="row py-lg-2">
            <div class="col-lg-6 col-md-8 mx-auto">
                <h1 class="fw-light">Institución</h1>
                <p class="lead text-muted">Mantenimiento que permite realizar acciones de consulta, creación, actualización y eliminación de instituciones</p>
                <p>
                    <a class="btn btn-primary my-2" asp-page="/Institucion/Edit">Nueva Institución</a>
                </p>
            </div>
        </div>
        <div class="row py-lg-2">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-12">
                            <table id="GridView" class="table">
                                <thead>
                                    <tr>
                                        <th>Id</th>
                                        <th>Código</th>
                                        <th>Nombre</th>
                                        <th>Teléfono</th>
                                        <th>Estado</th>
                                        <th>Editar</th>
                                        <th>Eliminar</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.GridList)
                                    {
                                        <tr>
                                            <td>@item.Id_Institucion</td>
                                            <td>@item.Codigo</td>
                                            <td>@item.Nombre</td>
                                            <td>@item.Telefono</td>
                                            <td>@Html.Raw(item.Estado ? "Activo" : "Inactivo")</td>
                                            <td>
                                                <button type="button" class="btn btn-info" onclick="GridInstitucion.OnClickEditar(@item.Id_Institucion)">
                                                    <i class='bx bx-edit'></i>
                                                </button>
                                            </td>
                                            <td>
                                                <button type="button" class="btn btn-danger" onclick="GridInstitucion.OnClickEliminar(@item.Id_Institucion)">
                                                    <i class='bx bx-trash'></i>
                                                </button>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

@section Scripts
{
    <script>
        var MensajeApp = "@Html.Raw(Model.Mensaje)";
    </script>
    <script defer src="~/App/Institucion/Grid.js"></script>
}